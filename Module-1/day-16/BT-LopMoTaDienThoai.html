<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Xây dựng lớp mô tả điện thoại</title>
</head>
<body>
<script>
    class Mobile {
        constructor(status, battery) {
            this.status = status;
            this.battery = battery;
            this.draft = [];
            this.inbox = [];
            this.sent = [];
        }

        checkOnStatus() {
            if (this.battery == 0) {
                alert("Goodbye!");
                this.status = false;
            }
            //console.log("status check: " + this.status);
            return this.status;
        }

        turnOnOff() {
            if (this.checkOnStatus()) {
                alert("Goodbye!");
                this.status = false;
            } else if (this.battery == 0) {
                alert("Low battery!");
            } else {
                alert("Hello!");
                this.status = true;
            }
            //console.log("status turn on/off: " + this.status);
        }

        charge(minutes) {
            for (let i = 0; i < minutes; i++) {
                if (this.battery < 100)
                    this.battery++;
                else {
                    alert("100% charged")
                    return;
                }
            }
        }

        text(message) {
            if (this.checkOnStatus()) {
                this.draft.push(message);
                this.battery--;
                // console.log("battery: " + this.battery);
                // console.log("draft: " + this.memoryForDraft);
                // console.log("inbox: " + this.memoryForInbox);
                // console.log("sent: " + this.memoryForSent);
            } else
                return;
        }

        receiveMessage(message) {
            if (this.checkOnStatus()) {
                alert("New message!");
                this.inbox.push(message);
                this.battery--;
                // console.log("battery: " + this.battery);
                // console.log("draft: " + this.memoryForDraft);
                // console.log("inbox: " + this.memoryForInbox);
                // console.log("sent: " + this.memoryForSent);
            } else
                return;
        }

        sendMessage(index) {
            if (this.checkOnStatus()) {
                let message = this.draft[index];
                this.sent.push(message);
                this.draft.splice(index, 1);
                alert("Message is sent!")
                this.battery--;
                // console.log("battery: " + this.battery);
                // console.log("draft: " + this.memoryForDraft);
                // console.log("inbox: " + this.memoryForInbox);
                // console.log("sent: " + this.memoryForSent);
            } else
                return;
        }

        readInbox(index) {
            if (this.checkOnStatus()) {
                alert(this.inbox[index]);
                this.battery--;
            } else
                return;
        }

        readSent(index) {
            if (this.checkOnStatus()) {
                alert(this.sent[index]);
                this.battery--;
            } else
                return;
        }
    }

    let nokia = new Mobile(false, 50);
    let iphone = new Mobile(true, 0);
    let message = "Hello C1120G1!";
    nokia.turnOnOff();
    nokia.text(message);
    nokia.sendMessage(0);
    iphone.receiveMessage();
    iphone.turnOnOff();
    iphone.charge(120);
    iphone.turnOnOff();
    iphone.receiveMessage(message);
    iphone.readInbox(0);
</script>
</body>
</html>